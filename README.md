# README

> 本仓库并非南京大学软件学院2021级 **C语言程序设计** 课程的官方仓库。
>
> 官方仓库请搜索 ant-hengxin



本仓库主要收集了该课程从第三次作业开始的陆续作业，并对其中做一些简单的解释

> 注：非标准答案，本人可能并没有用最优解来实现各个题目，也存在一定漏洞，欢迎PR



## 前言

对于刚刚开始学习C语言的同学来说，可能该题解有部分语法你们暂时还没有学到，这部分我会在前言列举出来。



### 1 变长数组(malloc.h)

> 刚开始学习的同学可能声明一个数组都是将数组的范围定的十分的大，但其实在后面的课程学习中同学们会知道，将数组的内存声明的过大会浪费许多没有意义的内存，我们应该要根据我们实际所需要的内存来申请数组空间。

#### 具体语法

C语言中，申请变长数组需要用到头文件`#include <malloc.h>`

**具体语法如下**：

```c
#include <stdio.h>
#include <malloc.h>

int main() 
{
    // 假设我们需要申请的数组长度为n
    int n;
    scanf("%d", &n);
    // 我们都知道，如果直接按如下声明方式声明数组是非法的
    // int arr[n];       invalid
    // 使用malloc来申请
    
    // 申请一个长度为n的int型数组
    int* arr = (int*) malloc (n * sizeof(int));
}
```

<span style = 'color: red'>**注意**</span>：这里用到了指针，如果想要了解指针请自行搜索，如果暂时不想了解的话可以跳过，就把`arr`当成普通的数组来使用（即使用`arr[index]`来对数组进行索引）。后面我们会知道，对所有声明的数组，数组名`arr`是一个指向其第一个索引位置的**指针**。

#### 注意事项

使用`malloc`来申请内存空间的时候，请注意在使用完这段空间的时候配上`free()`来释放内存空间，如果在程序结束后却没有释放掉这块内存空间，可能会造成内存泄漏（什么叫内存泄漏请自行搜索）。可能会有如下坏处：

1. 程序运行结束但**数据**仍然会被获得。
2. 系统可能在一段小时间内无法知道这块内存是不需要再被用的，因此可能会造成内存的损失。
3. $\dots$

**示例：**

```c
#include <stdio.h>
#include <malloc.h>

int main()
{
    int n;
    scanf("%d", &n);
    
    int* arr = (int*) malloc (n * sizeof(int));
    
    // some code here
    
    // 最简单的释放内存
    free(arr);
}
```



### 2 函数(Function)

> 大家可能都知道C语言中的main函数`int main(){...}`，其实所有语言都有main函数，但将所有事情都写在main函数中显然是不好的，这会影响代码的可阅读性和我们debug的体验，因此，将不同的功能封装成函数是一种十分必要的行为。

**函数（Function）**是大家十分熟悉的一个概念，其实大家已经在很多地方都有用到函数了，比如`math.h`库中的`pow()`就是一个函数，我们并不知道其内部的实现方式，只知道其如何使用和能带给我们什么。这就是将某些功能封装成函数的作用之一，使用函数还有以下好处：

1. 提高代码可读性
2. 减少代码复用
3. 利于debug
4. $\dots$

#### 具体用法

C/Cpp 中，函数分为**函数定义(Definition)**和**函数声明(Declaration)**

1. **函数定义**：函数定义是用来声明程序中有这个函数，写在`main`函数上方（后面我们会知道在多文件中函数定义会写在头文件里），方便编译器通过函数定义来找到函数的声明
2. **函数声明**：函数的具体实现。

我们来看个例子：

```c
#include <stdio.h>

// Function Definition
// 没有参数，返回值为空(void
void sayHello();

int main()
{
    // balabala
    sayHello();
    
    return 0;
}

// Function Declaration
// 具体实现
void sayHello()
{
    printf("Hello World!");
}
```

#### 注意事项

1. 使用函数的时候请注意，**声明**和**定义**的**返回值**，**参数类型**，**参数顺序**要求一致

2. C语言是**值传递**的，即在进入某个函数的时候，该函数会被压入栈上，然后传入的值是通过**拷贝**一份存放到该函数的栈帧上的，如果你直接在函数中修改传进来的参数的值，外部的值其实是不会发生改变的，如果我们要通过一个函数来改变值，请使用**指针**

	> 部分题目可能会看到函数的参数有`int* arr`，这其实就是传了一个指针进去，通过指针我们可以索引数组且修改数组中的值